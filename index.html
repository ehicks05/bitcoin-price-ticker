<html>
<head>
</head>
<body>

<div id="time"></div>
<div id="price"></div>

<script>
    var subscribeMessage = {
        "type": "subscribe",
        "product_ids": [
            "BTC-USD"
        ],
        "channels": [
            "ticker"
        ]
    };

    var exampleSocket = new WebSocket("wss://ws-feed.pro.coinbase.com");

    exampleSocket.onopen = function (event) {
        exampleSocket.send(JSON.stringify(subscribeMessage));
    };

    exampleSocket.onmessage = function (event) {
        console.log(event.data);
        var response = JSON.parse(event.data);
        var time = response.time;
        var price = response.price;

        time = Date(time).toLocaleString();
        document.getElementById("time").innerText = time;
        document.getElementById("price").innerText = price;
    };


</script>

</body>
</html>